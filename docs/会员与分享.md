# 会员与分享

## 会员详情接口返回数据解释

| key                | 含义                                                          |
| ------------------ | ------------------------------------------------------------- |
| SourceId           | 邀请用户注册的会员 id，邀请注册时写入，一般不变               |
| BindingMemberId    | 用户绑定的会员 id，一般需要消费触发绑定。通常在营销活动中生效 |
| BindingAssistantId | 该会员绑定的导购员/分销员 id ，绑定有效期为 BindingExpire     |
| BindingShopId      | 该会员绑定的导购员/分销员 id 所在的店铺 id                    |
| CreationTime       | 该会员注册时间，即通过导入、小程序注册等创建该会员的时间      |
| ActiveTime         | 该会员的激活时间，通过小程序登录并验证手机号触发激活          |
| FirstTradeTime     | 该会员的首次交易时间                                          |
| LastTradeTime      | 最后一次交易时间                                              |
|                    |                                                               |

## 分享参数中的数据定义

- 分享规则：

| key    | 含义                                            |
| ------ | ----------------------------------------------- |
| mid    | 分享会员的 id, 会被保存到注册会员的 SourceId 中 |
| source | 入口方式，小程序码/分享卡片消息                 |
| eid    | 导购员/分销员 id                                |
| sid    | 导购员/分销员 id 所在的店铺 id，即销售店铺      |
| shop   | 销售店铺名称                                    |
| tid    | 商户 id                                         |
| tenant | 商户名称                                        |
|        |                                                 |

- 如果是店员通过导购端分享的连接，是有 eid, sid, shop, tid, tenant 的
- 如果是消费者 C 端分享的连接，是有 mid, eid, sid, shop, tid, tenant 的, 其中店铺店员信息是消费者本次浏览店铺的自己绑定的信息

## C 端如何处理分享参数

- 如果本次有分享参数，那么应该跳转到参数对应的商户和店铺
- 如果没有分享参数，用户是已经注册的用户，那么默认访问用户绑定的店铺和店员；如果没有绑定就浏览用户上次浏览的店铺
- 如果没有分享参数，用户没有注册，即首次访问，那么从配置文件中读取默认店铺商户
